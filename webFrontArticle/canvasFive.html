<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>canvas五角星（五星红旗）绘制</title>
    <meta name="keywords" content="H+后台主题,后台bootstrap框架,会员中心主题,后台HTML,响应式后台">
    <meta name="description" content="H+是一个完全响应式，基于Bootstrap3最新版本开发的扁平化主题，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>

    <link rel="shortcut icon" href="favicon.ico">
    <link href="../css/style.css?v=4.1.0" rel="stylesheet">
    <link href="../layui/css/layui.css" rel="stylesheet">
    <!-- <link href="../layui/css/layui.mobile.css" rel="stylesheet"> -->
    <link href="../css/article.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/nativeShare.css"/>

</head>

<body class="gray-bg">
    <div class="wrapper wrapper-content  animated fadeInRight">
        <nav class="nav_article clear">
            <a class="return_page" href="javascript:;"><i class="layui-icon">&#xe65c;</i></a>
            <a class="share_button" style="float: right;" href="javascript:;"><i class="layui-icon">&#xe641;</i></a>
        </nav>
        <article>
            <h3>canvas五角星（五星红旗）绘制</h3>
            <section class="react_show">
                <p>效果展示</p>
                <img class="react_img" src="../img/canvas_five.png" alt="">
            </section>
            <section class="react_show">
                <p>demo链接下载(喜欢就送颗真心撒)：</p>
                <a class="link_style" target="_blank" href="javascript:;">简单案例直接全部贴上代码了。</a>
            </section>
            <section class="code_infor">
            <!-- 代码编辑器 -->
            <pre class="layui-code layui-code layui-box layui-code-view" lay-title="html代码" lay-encode="false">
<div>
    <canvas id="starCanvas" width="450" height="300">
    </canvas>
</div>
            </pre>   
            <!-- <pre class="layui-code layui-code layui-box layui-code-view" lay-title="css代码" lay-encode="false">
            </pre>  -->  
            <pre class="layui-code layui-code layui-box layui-code-view" lay-title="js代码" lay-encode="false">
window.onload=function(){
    fiveStar();//调用五星红旗函数
}
function fiveStar(){//五星红旗函数
    var cxt = document.getElementById("starCanvas").getContext('2d');//获取画布
    cxt.beginPath();
    cxt.fillStyle="#F40002";
    cxt.fillRect(0,0,450,300);
    cxt.closePath();
    cxt.translate(75,75);
    //大的五角星
    cxt.save();
    cxt.rotate(Math.PI*2/5/2);//正向上
    strowStar(cxt,40);
    cxt.restore();
    //绘制四个小五角星
    cxt.save();
    cxt.translate(80,-50);
    strowStar(cxt,10);
    cxt.restore();
    cxt.save();
    cxt.translate(110,-10);
    strowStar(cxt,10);
    cxt.restore();
    cxt.save();
    cxt.translate(110,30);
    strowStar(cxt,10);
    cxt.restore();
    cxt.save();
    cxt.translate(80,70);
    strowStar(cxt,10);
    cxt.restore();
}
//绘制五角星函数
function strowStar(cxt,r,R){//r内切圆半径，R外切圆半径
    cxt.save();
    cxt.beginPath();
    cxt.moveTo(0,r);//第一个点为五角星的上顶点(内切圆半径r)
    for(var i=0;i<9;i++){
        cxt.rotate(Math.PI/5);//30度
        /*顶点对应的每个角度：54度=360度/5(五个角)
        求出每个外顶点(内顶点)对应的坐标（x,y）
        基础：canvas中向右向下为正，直角中内顶点：sin(54度)=y/r,cos(54度)=x/r
        */
        if(i%2==0){//偶数，外顶点。
            cxt.lineTo(Math.cos( (54+72*i)/180*Math.PI) * r,Math.sin((54+72*i)/180*Math.PI) * r);
        }else{//奇数内顶点
            cxt.lineTo(Math.cos( (18+72*i)/180*Math.PI) * R, Math.sin((18+72*i)/180*Math.PI) * R);
        }
    }
    cxt.closePath();
    cxt.fillStyle="#FAF408";
    cxt.fill();
    cxt.restore();
}
            </pre>   
            <!-- 代码编辑器完 -->
            </section>
        </article>
        <!-- 分享 -->
        <div id="nativeShare"></div>
    </div>
</body>
<!-- 全局js -->
    <script src="../js/jquery.min.js?v=2.1.4"></script>
    <script src="../layui/layui.all.js"></script>
    <script src="../js/nativeShare.js"></script>
    <script src="../js/public.js"></script>
    <!-- 自定义js -->
<script>
    $(function(){
        layui.use("code",function(){
            layui.code({
                encode: true,
            });
        })
        $(".return_page").click(function(){
            history.go(-1);
        })
        // var config = {
        //     url:'http://blog.wangjunfeng.com',
        //     title:'王俊锋的个人博客',
        //     desc:'王俊锋的个人博客',
        //     img:'http://www.wangjunfeng.com/img/face.jpg',
        //     img_title:'王俊锋的个人博客',
        //     from:'王俊锋的博客'
        // };
        // var share_obj = new nativeShare('nativeShare',config);
    // $(window).on("pageshow",function(e){
    // // 判断，如果存在我缓存的页面，则读取
    // if(!e.persisted){
    // _this.readFromPage();
    // }
    // })
    // $(window).on("pagehide",function(e){
    // // 如果没有页面缓存，我来缓存
    // if(!e.persisted){
    //  // 判断url是否是我需要的页面，然后读取。
    // _this.cachePage();
    // }
    // })
    })
</script>
</html>
